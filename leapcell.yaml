# leapcell.yaml — Deployment configuration for Leapcell.io
type: service

# ⚠️ IMPORTANT: Set memory to at least 2048 MB (2GB)
# LFM2-350M in float32 needs ~1.4GB RAM on CPU
build:
  buildCommand: pip install -r requirements.txt

run:
  runCommand: uvicorn app:app --host 0.0.0.0 --port 8080
  port: 8080

resources:
  memory: 2048   # 2 GB RAM minimum — model weights are ~1.4GB
  cpu: 2         # 2 CPU cores for reasonable inference speed
